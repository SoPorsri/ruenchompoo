<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ร้านเรือนชมพูเนื้อย่างเกาหลี - สาขานาเชือก</title>
<style>
body{font-family:sans-serif; margin:20px; background:#f7f7f7;}
h1{text-align:center; margin-bottom:20px;}
.grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(100px,1fr)); gap:10px; max-width:800px; margin:0 auto;}
.table-card{padding:20px; border-radius:10px; text-align:center; cursor:pointer; font-weight:bold;}
.free{background:#c8f7c5; border:2px solid #27ae60;}
.busy{background:#f9c0c0; border:2px solid #c0392b;}
#summary{margin:20px auto; max-width:600px; padding:15px; border:1px solid #ccc; border-radius:10px; background:#fff;}
</style>
</head>
<body>

<h1>ร้านเรือนชมพูเนื้อย่างเกาหลี<br>สาขานาเชือก</h1>

<div id="summary">
  <h3>สรุปยอดขายวันนี้</h3>
  <p>ยอดขายรวม: <span id="totalSales">0</span> บาท</p>
</div>

<div class="grid" id="tableGrid"></div>

<script>
const tables = [
  "ซุ้ม1","ซุ้ม2","ซุ้ม3","ซุ้ม4","ซุ้ม5","ซุ้ม6","ซุ้ม7","ซุ้ม8","ซุ้ม9","ซุ้ม10",
  "A1","A2","A3","A4","A5","A6","A7","A8",
  "B1","B2","B3","B4"
];

function loadData(){
  return JSON.parse(localStorage.getItem("shopData")||"{}");
}

function saveData(data){
  localStorage.setItem("shopData", JSON.stringify(data));
}

function renderTables(){
  const data = loadData();
  const grid = document.getElementById("tableGrid");
  grid.innerHTML="";
  tables.forEach(name=>{
    const status = data[name]?.status || "free";
    const div = document.createElement("div");
    div.className = "table-card "+(status==="busy"?"busy":"free");
    div.textContent = name+"\n"+(status==="busy"?"ไม่ว่าง":"ว่าง");
    div.onclick = ()=>{
      window.location.href="bill.html?table="+encodeURIComponent(name);
    };
    grid.appendChild(div);
  });

  // แสดงยอดขายรวม
  let total=0;
  for(const t of Object.values(data)){
    if(t.sales) total+=t.sales;
  }
  document.getElementById("totalSales").textContent = total.toLocaleString();
}

renderTables();
</script>
</body>
</html>
