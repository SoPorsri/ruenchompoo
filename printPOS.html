async function sendPrintRequest(bill) {
  const printerIp = "192.168.1.100"; // IP ของเครื่อง XP-C582

  const response = await fetch("http://192.168.1.88:8080/print", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ printer_ip: printerIp, bill })
  });

  const data = await response.json();
  console.log(data);
  if(data.success){
    alert("สั่งพิมพ์สำเร็จ!");
  } else {
    alert("เกิดข้อผิดพลาด: " + data.message);
  }
}

// ตัวอย่างเรียกใช้
const exampleBill = {
  billno: "B12345",
  customer: "โต๊ะ 5",
  total: 150.00,
  cash: 200.00,
  change: 50.00,
  items: [
    { menu_name: "สเต็ก", qty: 1, price: 100, total: 100 },
    { menu_name: "น้ำเปล่า", qty: 1, price: 50, total: 50 }
  ]
};

// เรียกฟังก์ชันนี้เมื่อต้องการพิมพ์
// sendPrintRequest(exampleBill);
