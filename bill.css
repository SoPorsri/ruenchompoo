:root {
  --bg:#f8fafc; 
  --card:#ffffff; 
  --ink:#0f172a; 
  --muted:#475569;
  --accent:#10b981; 
  --line:#e2e8f0; 
  --danger:#ef4444;
}

/* box-sizing + base */
* { box-sizing:border-box }
html,body { height:100% }
body {
  margin:0;
  font-family:system-ui,"Noto Sans Thai",sans-serif;
  background:var(--bg);
  color:var(--ink);
  font-size:18px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* container / app */
.container { max-width:1000px; margin:24px auto; padding:16px }
.app {
  background:var(--card);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow:0 10px 30px rgba(2,8,23,.05);
  overflow:hidden;
}

/* header */
header {
  padding:20px 24px;
  border-bottom:1px solid var(--line);
  display:flex;
  gap:16px;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}
.brand { display:flex; flex-direction:column }
.brand .shop { font-weight:800; color:#111827 }
.brand .branch { color:var(--muted); font-size:.95em }

.controls { display:flex; gap:8px; flex-wrap:wrap }
button {
  appearance:none; border:none; padding:10px 14px; border-radius:12px;
  cursor:pointer; background:var(--ink); color:white; font-weight:600;
  display:flex; align-items:center; gap:8px;
}
button.accent { background:var(--accent) }
button.secondary { background:#334155 }
button.warn { background:var(--danger) }
button.ghost { background:transparent; color:var(--ink); border:1px solid var(--line) }
.icon { width:16px; height:16px; display:inline-block; vertical-align:middle }

/* layout ‡∏´‡∏•‡∏±‡∏Å */
main { display:flex; flex-direction:row; height:100%; gap:10px; box-sizing:border-box }
#left { flex:0 0 60%; min-width:0 }
#right { flex:1; min-width:0; display:flex; flex-direction:column; gap:12px }
#right input,#right select,#right textarea { width:100%; max-width:100%; display:block }
@media screen and (orientation:portrait) {
  main { flex-direction:column }
  #right { order:-1 }
}

/* panels */
.panel { padding:20px 24px }
.panel + .panel { border-left:1px solid var(--line) }
@media (max-width:860px) { 
  .panel + .panel { border-left:none; border-top:1px solid var(--line) }
}

/* header grid (column titles) */
.grid.header {
  display:grid;
  grid-template-columns: 30px 1fr 100px 120px; /* ‚ò∞ | ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ | ‡∏£‡∏≤‡∏Ñ‡∏≤ | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô */
  gap:10px; align-items:center; font-weight:700;
  border-bottom:1px solid var(--line); padding-bottom:6px; margin-bottom:8px; color:#808080;
}

/* small helper */
.muted { color:var(--muted) }
.right { text-align:right }

/* inputs */
.num {
  width:100%; box-sizing:border-box; padding:10px 12px;
  border:1px solid var(--line); border-radius:10px; font-size:16px
}
.num[readonly] { background:#f5f7fb }

/* summary */
.title-row { display:flex; align-items:center; justify-content:space-between; gap:8px }
.summary { display:grid; gap:10px }
.summary .line { display:flex; justify-content:space-between; align-items:center }
.big { font-size:28px; font-weight:800 }
.danger-text { color:var(--danger); font-weight:600; margin-top:4px; font-size:.9em }

/* popup */
#popup {
  display:none; position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,.5); justify-content:center; align-items:center
}
#popup .content {
  background:white; padding:20px; border-radius:12px; width:320px; max-width:95%
}
#popup input {
  width:100%; margin-bottom:10px; padding:8px;
  border:1px solid var(--line); border-radius:8px
}
#popup button { width:100%; margin-top:6px }

/* print */
@media print {
  body { background:white }
  .container { margin:0; padding:0 }
  .app { border:none; box-shadow:none; border-radius:0 }
  header .controls,.noprint { display:none!important }
  main { flex-direction:column }
  .panel + .panel { border:none }
  table { width:100%; border-collapse:collapse; font-size:14px }
  th,td { padding:2px 0 }
  th.right,td.right { text-align:right }
  .action-btns { display:none!important }
}

/* =========================
   ROW (wrapper) + content
   ========================= */

#menuItems { display:block }

.row {
  position: relative;
  display: flex;
  align-items: center;
  background: #fff;
  border-bottom: 1px solid #ddd;
  overflow: hidden;
  touch-action: pan-y; /* ‡πÉ‡∏´‡πâ swipe ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡πÑ‡∏î‡πâ */
}

/* ‡∏Å‡πâ‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏ä‡∏ß‡πå‡∏õ‡∏∏‡πà‡∏° */
.row-content {
  display: grid;
  grid-template-columns: 30px 1fr 100px 120px;
  gap: 10px;
  align-items: center;
  padding: 10px 12px;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 10px;
  transition: transform .22s cubic-bezier(.2,.9,.2,1);
  z-index: 2;
  min-height: 48px;
  box-shadow: 0 1px 0 rgba(2,8,23,.02);
  width: 100%;
  box-sizing: border-box;
  position: relative;
}

/* drag handle */
.drag-handle {
  cursor: grab;
  font-size: 18px;
  color: var(--muted);
  text-align: center;
  user-select: none;
}
.drag-handle:active { cursor: grabbing }

/* menu text */
.menu-name {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 18px;
  font-weight: 600;
  padding-right: 6px;
}
.menu-price {
  text-align: right;
  color: var(--muted);
  font-size: 17px;
  font-weight: 600;
  min-width: 80px;
}
.menu-qty {
  width: 100%;
  max-width: 100px;
  border-radius: 10px;
  padding: 8px 10px;
  border: 1px solid var(--line);
  font-size: 16px;
  text-align: right;
  background: #fff;
}

/* placeholder + drag visual */
.placeholder { border: 2px dashed var(--accent); background:#f0fdf4 }
.drag-over { background:#e0f2fe; border-top:3px solid var(--accent) }
.drag-over-valid { background:#dcfce7; border-top:3px solid var(--accent) }

/* action buttons ‚Äî ‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á */
.action-btns {
  position: absolute;
  top: 0; right: 0; bottom: 0;
  display: flex;
  align-items: stretch;
  justify-content: flex-end;
  background: #f8fafc;
  min-width: 160px;   /* üöÄ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
  z-index: 1;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease;
}

/* ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏° */
.action-btns .edit-btn,
.action-btns .delete-btn {
  flex: 0 0 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
  user-select: none;
}
.action-btns .edit-btn { background:#f59e0b }
.action-btns .delete-btn { background: var(--danger) }

/* RWD: ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á */
@media (max-width:420px) {
  .action-btns .edit-btn,
  .action-btns .delete-btn {
    flex: 0 0 70px;
    font-size: 14px;
  }
  .row-content { grid-template-columns: 30px 1fr 80px 90px }
}

/* ‚úÖ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏Ñ‡∏ä‡∏±‡∏ô */
.row.show-actions .action-btns {
  opacity: 1;
  pointer-events: auto;
}
.row.show-actions .row-content {
  transform: translateX(-160px); /* ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö min-width action-btns */
}

/* accessibility */
.row-content:active { transition-duration:.12s }
.row-content:focus-within {
  box-shadow: 0 4px 14px rgba(16,185,129,.06);
  outline: none;
}
