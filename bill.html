<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ä‡∏°‡∏û‡∏π‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ - ‡∏≠‡∏≠‡∏Å‡∏ö‡∏¥‡∏•</title>
<link rel="stylesheet" href="bill.css">
<!-- ‚¨áÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const version = Date.now();
    document.querySelectorAll('link[rel="stylesheet"], script[src]').forEach(el => {
      let attr = el.tagName === "LINK" ? "href" : "src";
      if (el[attr]) {
        el[attr] = el[attr] + (el[attr].includes("?") ? "&" : "?") + "v=" + version;
      }
    });
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script type="module" src="bill.js"></script>
</head>
<body>
<div class="container">
  <div class="app">
    <header>
      <div class="brand">
        <div class="shop">‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ä‡∏°‡∏û‡∏π‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ</div>
        <div class="branch">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ô‡∏≤‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å ‚Ä¢ <small id="today"></small></div>
      </div>
      <div class="controls noprint">
        <button class="accent" id="btnAddMenu"><span class="icon">üìù</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</button>
        <button class="ghost" id="btnSave"><span class="icon">üíæ</span> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button class="warn" id="btnClear"><span class="icon">üóëÔ∏è</span> ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ö‡∏¥‡∏•</button>
        <button class="secondary" id="btnHome"><span class="icon">üè†</span> ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
        <button class="accent" id="btnPrint"><span class="icon">üñ®Ô∏è</span> ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ö‡∏¥‡∏•</button>
      </div>
    </header>

    <main>
      <section class="panel" id="left">
        <div class="title-row">
          <h2 style="margin:0">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</h2>
          <small class="muted">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡πÄ‡∏°‡∏ô‡∏π</small>
        </div>
        <div class="grid header">
          <div></div> <!-- ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ‚ò∞ -->
          <div>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
          <div class="right">‡∏£‡∏≤‡∏Ñ‡∏≤</div>
          <div class="right">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</div>
        </div>
        <div id="menuItems"></div>
      </section>
    
      <section class="panel" id="right">
        <h2 style="margin:0 0 10px 0">‡∏™‡∏£‡∏∏‡∏õ‡∏ö‡∏¥‡∏•</h2>
      
        <div style="display:flex; gap:20px; margin-bottom:12px">
          <div style="flex:1; display:flex; flex-direction:column">
            <label class="muted">‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ï‡πä‡∏∞</label>
            <input class="num" id="customer" placeholder="‡∏ã‡∏∏‡πâ‡∏°1 ‡∏´‡∏£‡∏∑‡∏≠ A1">
          </div>
        
          <div style="width:120px; display:flex; flex-direction:column">
            <label class="muted">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏¥‡∏•</label>
            <input class="num" id="billno" readonly>
          </div>
        </div>
      
        <div class="summary">
          <div class="line">
            <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</span>
            <span class="big" id="grand">‡∏ø0.00</span>
          </div>
        </div>
      
        <div style="display:flex; gap:20px; margin-top:18px">
          <div style="flex:1; display:flex; flex-direction:column">
            <label class="muted">‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏≤</label>
            <input type="text" class="num" id="cash" placeholder="‡πÄ‡∏ä‡πà‡∏ô 500" inputmode="numeric" pattern="[0-9]*">
            <div id="cashWarn" class="danger-text" style="display:none; margin-top:4px">
              ‚ö†Ô∏è ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏≠
            </div>
          </div>
        
          <div style="width:120px; display:flex; flex-direction:column">
            <label class="muted">‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô</label>
            <input class="num" id="change" readonly>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>

<!-- popup preview -->
<div id="previewModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:9999;">
  <div style="background:white; padding:20px; border-radius:12px; width:90%; max-width:600px; max-height:90%; overflow:auto;">
    <h2 style="margin-top:0">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h2>
    <div id="previewContent"></div>
    <div style="margin-top:16px; display:flex; justify-content:flex-end; gap:8px;">
      <button id="btnCancelPreview" class="ghost">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      <button id="btnConfirmPrint" class="accent">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå</button>
    </div>
  </div>
</div>

<div id="customKeypad"></div>
  
<div id="addPopup" class="popup">
  <div class="popup-content">
    <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏°‡πà</h3>
    <input id="addMenuName" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π">
    <input id="addMenuPrice" type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
    <div class="popup-actions">
      <button id="btnAddMenuConfirm">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      <button id="btnAddMenuCancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
  </div>
</div>

<div id="editPopup" class="popup">
  <div class="popup-content">
    <h3>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π</h3>
    <input id="editMenuName" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π">
    <input id="editMenuPrice" type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
    <div class="popup-actions">
      <button id="btnEditMenuConfirm">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      <button id="btnEditMenuCancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
  </div>
</div>


</body>
</html>
